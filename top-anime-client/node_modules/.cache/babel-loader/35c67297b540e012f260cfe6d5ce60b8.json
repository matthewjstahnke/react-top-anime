{"ast":null,"code":"export const getAnimes = () => {\n  return dispatch => {\n    dispatch({\n      type: \"LOADING\"\n    });\n    fetch(\"http://localhost:3001/animes\").then(resp => resp.json()).then(animes => dispatch({\n      type: \"SET_ANIMES\",\n      animes\n    }));\n  };\n};\nexport const addAnime = (anime, history) => {\n  console.log(anime);\n  return dispatch => {\n    fetch('http://localhost:3001/animes', {\n      method: \"POST\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        anime\n      })\n    }).then(resp => resp.json()).then(anime => {\n      dispatch({\n        type: \"ADD_ANIME\",\n        anime\n      });\n      history.push(\"/animes\");\n    });\n  };\n};\nexport const addLike = (anime, history) => {\n  let id = anime.id;\n  console.log(anime, \"in addLike\");\n  console.log(history);\n  return dispatch => {\n    console.log(dispatch);\n    let newLike = anime.likes + 1;\n    let strongParams = {\n      anime: {\n        likes: likes + 1\n      }\n    };\n    fetch('http://localhost:3001/animes/' + id, strongParams, {\n      method: \"PATCH\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        anime\n      })\n    }).then(resp => resp.json()).then(anime => {\n      console.log(newLike, \"in addLike\");\n      dispatch({\n        type: \"ADD_LIKE\",\n        anime\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/matthewjstahnke/react-top-anime/top-anime-client/src/actions/index.js"],"names":["getAnimes","dispatch","type","fetch","then","resp","json","animes","addAnime","anime","history","console","log","method","headers","body","JSON","stringify","push","addLike","id","newLike","likes","strongParams"],"mappings":"AAAA,OAAO,MAAMA,SAAS,GAAG,MAAM;AAC7B,SAAOC,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAC,IAAAA,KAAK,CAAC,8BAAD,CAAL,CACGC,IADH,CACQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADhB,EAEGF,IAFH,CAEQG,MAAM,IAAIN,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,YAAR;AAAsBK,MAAAA;AAAtB,KAAD,CAF1B;AAGD,GALD;AAMD,CAPM;AASP,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;AAC1CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,SAAOR,QAAQ,IAAI;AACjBE,IAAAA,KAAK,CAAC,8BAAD,EAAiC;AACpCU,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OAF2B;AAMpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,QAAAA;AAAF,OAAf;AAN8B,KAAjC,CAAL,CAQGL,IARH,CAQQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EARhB,EASGF,IATH,CASQK,KAAK,IAAI;AACbR,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE,WAAR;AAAqBO,QAAAA;AAArB,OAAD,CAAR;AACAC,MAAAA,OAAO,CAACQ,IAAR,CAAa,SAAb;AACD,KAZH;AAaD,GAdD;AAeD,CAjBM;AAmBP,OAAO,MAAMC,OAAO,GAAG,CAACV,KAAD,EAAQC,OAAR,KAAoB;AACzC,MAAIU,EAAE,GAAGX,KAAK,CAACW,EAAf;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmB,YAAnB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACA,SAAOT,QAAQ,IAAI;AACjBU,IAAAA,OAAO,CAACC,GAAR,CAAYX,QAAZ;AACA,QAAIoB,OAAO,GAAGZ,KAAK,CAACa,KAAN,GAAc,CAA5B;AACA,QAAIC,YAAY,GAAG;AACjBd,MAAAA,KAAK,EAAE;AACLa,QAAAA,KAAK,EAAEA,KAAK,GAAG;AADV;AADU,KAAnB;AAKAnB,IAAAA,KAAK,CAAC,kCAAkCiB,EAAnC,EAAuCG,YAAvC,EAAqD;AACxDV,MAAAA,MAAM,EAAE,OADgD;AAExDC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OAF+C;AAMxDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,QAAAA;AAAF,OAAf;AANkD,KAArD,CAAL,CAQGL,IARH,CAQQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EARhB,EASGF,IATH,CASQK,KAAK,IAAI;AACbE,MAAAA,OAAO,CAACC,GAAR,CAAYS,OAAZ,EAAoB,YAApB;AACApB,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE,UAAR;AAAoBO,QAAAA;AAApB,OAAD,CAAR;AACD,KAZH;AAaD,GArBD;AAsBD,CA1BM","sourcesContent":["export const getAnimes = () => {\n  return dispatch => {\n    dispatch({ type: \"LOADING\" })\n    fetch(\"http://localhost:3001/animes\")\n      .then(resp => resp.json())\n      .then(animes => dispatch({ type: \"SET_ANIMES\", animes }))\n  }\n}\n\nexport const addAnime = (anime, history) => {\n  console.log(anime)\n  return dispatch => {\n    fetch('http://localhost:3001/animes', {\n      method: \"POST\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ anime })\n    })\n      .then(resp => resp.json())\n      .then(anime => {\n        dispatch({ type: \"ADD_ANIME\", anime })\n        history.push(\"/animes\")\n      })\n  }\n}\n\nexport const addLike = (anime, history) => {\n  let id = anime.id\n  console.log(anime, \"in addLike\")\n  console.log(history)\n  return dispatch => {\n    console.log(dispatch)\n    let newLike = anime.likes + 1\n    let strongParams = {\n      anime: {\n        likes: likes + 1\n      }\n    }\n    fetch('http://localhost:3001/animes/' + id, strongParams, {\n      method: \"PATCH\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ anime })\n    })\n      .then(resp => resp.json())\n      .then(anime => {\n        console.log(newLike,\"in addLike\")\n        dispatch({ type: \"ADD_LIKE\", anime })\n      })\n  }\n}"]},"metadata":{},"sourceType":"module"}